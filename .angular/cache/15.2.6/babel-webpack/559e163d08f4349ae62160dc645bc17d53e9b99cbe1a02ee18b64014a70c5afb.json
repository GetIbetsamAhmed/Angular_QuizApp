{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { modalConfig } from 'src/app/interfaces/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-bootstrap/modal\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"./../../services/admin.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../common/material-table/material-table.component\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/forms\";\nconst _c0 = [\"deleteTemplate\"];\nconst _c1 = [\"updateTemplate\"];\nfunction PersonalDevelopmentAreasComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"app-material-table\", 9);\n    i0.ɵɵlistener(\"actionEvent\", function PersonalDevelopmentAreasComponent_div_8_Template_app_material_table_actionEvent_1_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.actionEvents($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"inputData\", ctx_r0.data)(\"columns\", ctx_r0.columns);\n  }\n}\nfunction PersonalDevelopmentAreasComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"h4\", 11);\n    i0.ɵɵtext(2, \"Personal Development Area\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function PersonalDevelopmentAreasComponent_ng_template_9_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.modalRef.hide());\n    });\n    i0.ɵɵelementStart(4, \"span\", 13);\n    i0.ɵɵtext(5, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 14)(7, \"p\");\n    i0.ɵɵtext(8, \"Do you want to delete?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function PersonalDevelopmentAreasComponent_ng_template_9_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.confirmEvent());\n    });\n    i0.ɵɵtext(10, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function PersonalDevelopmentAreasComponent_ng_template_9_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.modalRef.hide());\n    });\n    i0.ɵɵtext(12, \"Cancel\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PersonalDevelopmentAreasComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"h4\", 11);\n    i0.ɵɵtext(2, \"Personal Development Area\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function PersonalDevelopmentAreasComponent_ng_template_11_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.modalRef.hide());\n    });\n    i0.ɵɵelementStart(4, \"span\", 13);\n    i0.ɵɵtext(5, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 14)(7, \"form\", 18)(8, \"div\", 19)(9, \"label\", 20);\n    i0.ɵɵtext(10, \"Personal Development Area\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"input\", 21);\n    i0.ɵɵelementStart(12, \"div\", 22);\n    i0.ɵɵtext(13, \" Enter A Personal Developemt Area Name \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 23)(15, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function PersonalDevelopmentAreasComponent_ng_template_11_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.confirmEvent());\n    });\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function PersonalDevelopmentAreasComponent_ng_template_11_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.modalRef.hide());\n    });\n    i0.ɵɵtext(18, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"formGroup\", ctx_r4.editForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"placeholder\", ctx_r4.isAddModel ? \"Enter Personal Development Area\" : \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r4.isAddModel ? \"Create\" : \"Update\");\n  }\n}\nconst HEADER_DATA = [{\n  name: 'Personal Development Area',\n  key: 'content'\n}];\nexport class PersonalDevelopmentAreasComponent {\n  constructor(modalService, toastr, adminService) {\n    this.modalService = modalService;\n    this.toastr = toastr;\n    this.adminService = adminService;\n    this.editForm = new FormGroup({\n      inputField: new FormControl('', Validators.required)\n    });\n    this.columns = HEADER_DATA;\n    this.data = null;\n    this.isAddModel = true;\n  }\n  ngOnInit() {\n    this.getPersonalDevelopmenetAreas();\n  }\n  getPersonalDevelopmenetAreas() {\n    this.adminService.get('personalDevelopmentAreas').subscribe({\n      next: response => {\n        this.data = response;\n      }\n    });\n  }\n  openFormModal() {\n    this.isAddModel = true;\n    this.modalRef = this.modalService.show(this.updateTemplate, modalConfig);\n  }\n  actionEvents(event) {\n    this.actionEvent = event;\n    if (event.type === 'edit') {\n      this.openEditModel();\n    } else if (event.type === 'delete') {\n      this.openDeleteModel();\n    }\n  }\n  openDeleteModel() {\n    this.modalRef = this.modalService.show(this.deleteTemplate, modalConfig);\n  }\n  openEditModel() {\n    this.isAddModel = false;\n    this.editForm.get('inputField')?.setValue(this.actionEvent?.data?.content);\n    this.modalRef = this.modalService.show(this.updateTemplate, modalConfig);\n  }\n  editPDA() {\n    let url = 'personalDevelopmentAreas/' + this.actionEvent.data.id + '?content=' + this.editForm.get('inputField')?.value;\n    this.adminService.put(url).subscribe(response => {\n      let index = this.data.findIndex(x => x.id === this.actionEvent.data.id);\n      this.data[index] = {\n        ...response\n      };\n      this.data = structuredClone(this.data);\n      if (response) {\n        this.toastr.success('success', 'Updated Successfully!');\n        this.modalRef.hide();\n      }\n    });\n  }\n  createPDA() {\n    let url = 'personalDevelopmentAreas?content=' + this.editForm.get('inputField')?.value;\n    this.adminService.post(url).subscribe(response => {\n      if (response) {\n        this.data.push(response);\n        this.toastr.success('success', 'Added Successfully!');\n        this.data = structuredClone(this.data);\n        this.modalRef.hide();\n        this.editForm.reset();\n      }\n      this.clearForm();\n    });\n  }\n  deletePDA() {\n    let url = `personalDevelopmentAreas/${this.actionEvent.data.id}`;\n    this.adminService.delete(url).subscribe(response => {\n      this.data = this.data.filter(x => x.id !== this.actionEvent.data.id);\n      this.data = structuredClone(this.data);\n      if (response) {\n        this.toastr.success('success', 'Deleted Successfully!');\n        this.modalRef.hide();\n      }\n    });\n  }\n  clearForm() {\n    this.editForm.reset();\n  }\n  confirmEvent() {\n    if (this.actionEvent === null || this.actionEvent === undefined) {\n      this.createPDA();\n    } else if (this.actionEvent && this.actionEvent.type === 'edit') {\n      this.editPDA();\n    } else if (this.actionEvent && this.actionEvent.type === 'delete') {\n      this.deletePDA();\n    }\n  }\n  ngOnDestroy() {\n    this.actionEvent = null;\n  }\n}\nPersonalDevelopmentAreasComponent.ɵfac = function PersonalDevelopmentAreasComponent_Factory(t) {\n  return new (t || PersonalDevelopmentAreasComponent)(i0.ɵɵdirectiveInject(i1.BsModalService), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.AdminService));\n};\nPersonalDevelopmentAreasComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PersonalDevelopmentAreasComponent,\n  selectors: [[\"app-personal-development-areas\"]],\n  viewQuery: function PersonalDevelopmentAreasComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.deleteTemplate = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.updateTemplate = _t.first);\n    }\n  },\n  decls: 13,\n  vars: 1,\n  consts: [[1, \"row\", \"mb15\"], [1, \"col-xs-10\", \"col-10\", \"col-md-10\", \"form-group\"], [1, \"col-xs-2\", \"col-2\", \"col-md-2\", \"form-group\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#developmentAreas\", 1, \"btn\", \"btn-1d\", \"float-end\", 3, \"click\"], [1, \"feather\", \"icon-plus\"], [\"class\", \"row\", 4, \"ngIf\"], [\"deleteTemplate\", \"\"], [\"updateTemplate\", \"\"], [1, \"row\"], [3, \"inputData\", \"columns\", \"actionEvent\"], [1, \"modal-header\"], [1, \"modal-title\", \"pull-left\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", \"close\", \"pull-right\", \"mr5\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"visually-hidden\"], [1, \"modal-body\", \"text-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-1d\", \"mr5\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", \"close\", \"pull-right\", 3, \"click\"], [\"novalidate\", \"\", 1, \"needs-validation\", 3, \"formGroup\"], [1, \"input-section\"], [\"for\", \"inputField\", 1, \"d-flex\"], [\"type\", \"text\", \"id\", \"inputField\", \"matInput\", \"\", \"formControlName\", \"inputField\", \"required\", \"\", 1, \"form-control\", 3, \"placeholder\"], [1, \"valid-feedback\"], [1, \"float-end\"]],\n  template: function PersonalDevelopmentAreasComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n      i0.ɵɵtext(3, \"Personal Development Areas\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function PersonalDevelopmentAreasComponent_Template_button_click_5_listener() {\n        return ctx.openFormModal();\n      });\n      i0.ɵɵelement(6, \"i\", 4);\n      i0.ɵɵtext(7, \" Create\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(8, PersonalDevelopmentAreasComponent_div_8_Template, 2, 2, \"div\", 5);\n      i0.ɵɵtemplate(9, PersonalDevelopmentAreasComponent_ng_template_9_Template, 13, 0, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(11, PersonalDevelopmentAreasComponent_ng_template_11_Template, 19, 3, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.data);\n    }\n  },\n  dependencies: [i4.NgIf, i5.MaterialTableComponent, i6.MatInput, i7.ɵNgNoValidate, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.RequiredValidator, i7.FormGroupDirective, i7.FormControlName],\n  styles: [\".input-section[_ngcontent-%COMP%] {\\n  margin: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW4vcGVyc29uYWwtZGV2ZWxvcG1lbnQtYXJlYXMvcGVyc29uYWwtZGV2ZWxvcG1lbnQtYXJlYXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIuaW5wdXQtc2VjdGlvbntcbiAgbWFyZ2luOiAxMHB4O1xufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","modalConfig","i0","HEADER_DATA","name","key","PersonalDevelopmentAreasComponent","constructor","modalService","toastr","adminService","inputField","required","ngOnInit","getPersonalDevelopmenetAreas","get","subscribe","next","response","data","openFormModal","isAddModel","modalRef","show","updateTemplate","actionEvents","event","actionEvent","type","openEditModel","openDeleteModel","deleteTemplate","editForm","setValue","content","editPDA","url","id","value","put","index","findIndex","x","structuredClone","success","hide","createPDA","post","push","reset","clearForm","deletePDA","delete","filter","confirmEvent","undefined","ngOnDestroy","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["/Applications/Angular/Upwork/Angular_QuizApp/src/app/admin/personal-development-areas/personal-development-areas.component.ts","/Applications/Angular/Upwork/Angular_QuizApp/src/app/admin/personal-development-areas/personal-development-areas.component.html"],"sourcesContent":["import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core'; \nimport { AdminService } from './../../services/admin.service';\nimport { ActionEvent } from 'src/app/interfaces/admin.interface'; \nimport { ToastrService } from 'ngx-toastr'; \nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { modalConfig } from 'src/app/interfaces/common';\n\nconst HEADER_DATA: any[] = [\n  {name:'Personal Development Area', key:'content'}\n]\n\n@Component({\n  selector: 'app-personal-development-areas',\n  templateUrl: './personal-development-areas.component.html',\n  styleUrls: ['./personal-development-areas.component.scss'],\n})\nexport class PersonalDevelopmentAreasComponent implements OnInit{\n  editForm: FormGroup=new FormGroup({\n    inputField:new FormControl('', Validators.required)\n  })\n  @ViewChild('deleteTemplate') deleteTemplate: TemplateRef<any>;\n  @ViewChild('updateTemplate') updateTemplate: TemplateRef<any>;\n  columns: any[] = HEADER_DATA;\n  data: any = null;\n  modalRef: BsModalRef;\n  actionEvent:ActionEvent;\n  isAddModel: boolean=true;\n\n  constructor(private modalService: BsModalService,private toastr: ToastrService,private adminService : AdminService,    ){\n  }\n\n  ngOnInit(){\n    this.getPersonalDevelopmenetAreas();\n  }\n\n  getPersonalDevelopmenetAreas(){\n    this.adminService.get('personalDevelopmentAreas').subscribe({\n      next:(response)=>{\n        this.data = response;\n      }\n    })\n  }\n  openFormModal() {\n    this.isAddModel=true;\n    this.modalRef = this.modalService.show(this.updateTemplate,modalConfig);\n  }\n\n  actionEvents(event:ActionEvent){\n    this.actionEvent=event;\n    if(event.type==='edit'){\n      this.openEditModel()\n    }\n    else if(event.type==='delete'){\n    this.openDeleteModel()\n    }\n  }\n\n  openDeleteModel(){\n    this.modalRef = this.modalService.show(this.deleteTemplate,modalConfig);\n  }\n\n  openEditModel(){\n    this.isAddModel=false;\n    this.editForm.get('inputField')?.setValue(this.actionEvent?.data?.content)\n    this.modalRef = this.modalService.show(this.updateTemplate,modalConfig);\n  }\n\n\n  editPDA(){\n    let url='personalDevelopmentAreas/'+this.actionEvent.data.id+'?content='+this.editForm.get('inputField')?.value;\n    this.adminService.put(url).subscribe(response=>{\n      let index=this.data.findIndex((x:any)=>x.id===this.actionEvent.data.id);\n      this.data[index]={...response};\n      this.data=structuredClone(this.data)\n         if(response){\n           this.toastr.success('success', 'Updated Successfully!');\n           this.modalRef.hide();\n         }\n     });\n  }\n\n  createPDA(){\n    let url='personalDevelopmentAreas?content='+this.editForm.get('inputField')?.value;\n       this.adminService.post(url).subscribe(response=>{\n      if(response){\n        this.data.push(response);\n        this.toastr.success('success', 'Added Successfully!');\n        this.data=structuredClone(this.data);\n        this.modalRef.hide();\n        this.editForm.reset();\n    }\n    this.clearForm();\n    });\n  }\n  deletePDA(){\n    let url=`personalDevelopmentAreas/${this.actionEvent.data.id}`\n    this.adminService.delete(url).subscribe(response=>{\n      this.data=this.data.filter((x:any)=>x.id!==this.actionEvent.data.id);\n      this.data=structuredClone(this.data);\n      if (response) {\n        this.toastr.success('success', 'Deleted Successfully!');\n        this.modalRef.hide();\n      }\n    });\n  }\n\n  clearForm(){\n    this.editForm.reset();\n  }\n\n  confirmEvent(){\n    if(this.actionEvent===null || this.actionEvent===undefined){\n      this.createPDA();\n    }\n    else if(this.actionEvent && this.actionEvent.type==='edit'){\n    this.editPDA();\n    }\n    else if(this.actionEvent && this.actionEvent.type==='delete'){\n      this.deletePDA();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.actionEvent=null as any;\n  }\n}\n","<div class=\"row mb15\">\n  <div class=\"col-xs-10 col-10 col-md-10 form-group\">\n    <h3>Personal Development Areas</h3>\n  </div>\n  <div class=\"col-xs-2 col-2 col-md-2 form-group\">\n    <button type=\"button\" class=\"btn btn-1d float-end\" (click)=\"openFormModal()\" data-bs-toggle=\"modal\"\n      data-bs-target=\"#developmentAreas\"><i class=\"feather icon-plus\"></i> Create</button>\n  </div>\n</div>\n<div class=\"row\" *ngIf=\"data\">\n  <app-material-table [inputData]=\"data\" [columns]=\"columns\" (actionEvent)=\"actionEvents($event)\"></app-material-table>\n</div>\n\n\n<!-- Delete Modal -->\n<ng-template #deleteTemplate>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title pull-left\">Personal Development Area</h4>\n    <button type=\"button\" class=\"btn-close close pull-right mr5\" aria-label=\"Close\" (click)=\"modalRef.hide()\">\n      <span aria-hidden=\"true\" class=\"visually-hidden\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body text-center\">\n    <p>Do you want to delete?</p>\n    <button type=\"button\" class=\"btn btn-1d mr5\" (click)=\"confirmEvent()\">Delete</button>\n    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"this.modalRef.hide()\">Cancel</button>\n  </div>\n</ng-template>\n\n<!-- ADD Modal -->\n\n<!-- Update Modal -->\n<ng-template #updateTemplate>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title pull-left\">Personal Development Area</h4>\n    <button type=\"button\" class=\"btn-close close pull-right\" aria-label=\"Close\" (click)=\"modalRef.hide()\">\n      <span aria-hidden=\"true\" class=\"visually-hidden\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body text-center\">\n    <form [formGroup]=\"editForm\" class=\"needs-validation\" novalidate>\n      <div class=\"input-section\">\n        <label for=\"inputField\" class=\"d-flex\">Personal Development Area</label>\n        <input type=\"text\" class=\"form-control\" id=\"inputField\" [placeholder]=\"isAddModel?'Enter Personal Development Area':''\"\n          matInput formControlName=\"inputField\" required />\n          <div class=\"valid-feedback\">\n            Enter A Personal Developemt Area Name\n        </div>\n      </div>\n    </form>\n    <div class=\"float-end\">\n      <button type=\"button\" class=\"btn btn-1d mr5\"\n        (click)=\"confirmEvent()\">{{isAddModel?'Create':'Update'}}</button>\n      <button type=\"button\" class=\"btn btn-secondary\" (click)=\"this.modalRef.hide()\">Cancel</button>\n    </div>\n  </div>\n</ng-template>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}